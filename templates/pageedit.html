<form id="addpage" hx-trigger="submit" hx-put="/swiki/page/{{ .Page.Id }}" hx-swap="outerHTML">
  <nav class="navbar navbar-expand-lg bg-body-tertiary sticky">
    <div class="container-fluid">
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">

          <li class="nav-item">
            <button class="btn btn-outline-success" type="button" hx-target="#content" hx-get="/swiki/page/categories/{{ .Page.Category }}">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left-square" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm11.5 5.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5z"/>
              </svg>
            </button>
          </li>

          <li class="nav-item">
            <a class="nav-link active" aria-current="page"><b>Id: </b><i>{{ .Page.Id}}</i></a>
          </li>

          <li class="nav-item">
            <a class="nav-link"><b>Added: </b><i>{{ .Page.Created }}</i></a>
          </li>

          <li class="nav-item">
            <a class="nav-link"><b>Updated: </b><i>{{ .Page.Updated }}</i></a>
          </li>

          <li class="nav-item">
            <a class="nav-link"><b>Category: </b><i>{{ .Page.Category }}</i></a>
          </li>

          <li class="nav-item">
            <button class="btn btn-outline-primary" type="submit" form="addpage">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-save" viewBox="0 0 16 16">
                <path d="M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9.5a1 1 0 0 0-1 1v7.293l2.646-2.647a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L7.5 9.293V2a2 2 0 0 1 2-2H14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h2.5a.5.5 0 0 1 0 1z"/>
              </svg>
            </button>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <input type="hidden" value="{{ .Page.Category }}" name="oldcategory" >

  <div class="mb-3 px-2">
    <label for="category" class="form-label">Category</label>
    <select id="cat" class="form-select" aria-label="Default select example" id="category" name="category">
      <option selected>Open this select menu</option>
      {{ range .Categorien }}
        <option value="{{ . }}">{{ . }}</option>
      {{ end }}
    </select>
  </div>

  <div class="mb-3 px-2">
    <label for="newcategory" class="form-label">New Category</label>
    <input type="text" class="form-control" id="newcategory" name="newcategory">
  </div>

  <div class="mb-3 px-2">
    <label for="title" class="form-label">Title</label>
    <input type="text" class="form-control" id="title" name="title" value="{{ .Page.Title }}">
  </div>

  <div class="mb-3 px-2">
    <textarea class="form-control edittextarea" id="mdcontent" name="mdcontent">
      {{ .Page.Content }}
  </textarea>
  </div>


<div class="mb-3 px-2">
  <button class="btn btn-outline-primary" type="submit" form="addpage">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-save" viewBox="0 0 16 16">
      <path d="M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9.5a1 1 0 0 0-1 1v7.293l2.646-2.647a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L7.5 9.293V2a2 2 0 0 1 2-2H14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h2.5a.5.5 0 0 1 0 1z"/>
    </svg>
  </button>
</div>
</form>
<script>
  $('#cat').find('option').each(function(i,e){
    if($(e).val() == '{{ .Page.Category}}'){
      $('#cat').prop('selectedIndex',i);
    }
  });
</script>